# Termii Environment Variables Quick Reference

## Required Configuration

```bash
# Termii API Key (get from https://termii.com dashboard)
TERMII_API_KEY=TLxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Sender ID for SMS (max 11 chars, must be approved)
# Default: "SuoOps" - request approval via Termii dashboard
TERMII_SENDER_ID=SuoOps

# Device ID for WhatsApp via Termii (max 9 chars)
# Default: "TID" for testing, request approval for production
TERMII_DEVICE_ID=TID

# SMS Provider (always "termii" for Termii)
SMS_PROVIDER=termii
```

## Setup Commands

### Set all variables at once:
```bash
heroku config:set \
  TERMII_API_KEY=your_api_key_here \
  TERMII_SENDER_ID=SuoOps \
  TERMII_DEVICE_ID=TID \
  SMS_PROVIDER=termii \
  --app suoops-backend
```

### Set individual variables:
```bash
heroku config:set TERMII_API_KEY=TLxxx --app suoops-backend
heroku config:set TERMII_SENDER_ID=SuoOps --app suoops-backend
heroku config:set TERMII_DEVICE_ID=TID --app suoops-backend
```

### Verify configuration:
```bash
heroku config --app suoops-backend | grep TERMII
```

## Testing

### Check if SMS is working:
```bash
heroku logs --tail --app suoops-backend | grep "SMS"
```

### Expected log output:
```
Termii SMS sent successfully to 2348012345678
Invoice notification sent - Email: True, WhatsApp: True, SMS: True
```

## Approval Status

### Sender ID Status:
- ⏳ **Pending**: 24-48 hours on weekdays
- ✅ **Approved**: Check Termii dashboard
- ❌ **Rejected**: Resubmit with better use case

### Testing Before Approval:
You can still test SMS, but it won't show your custom Sender ID until approved.

## Cost Estimates

| Channel | Cost per Message | 100 Invoices | 1000 Invoices |
|---------|-----------------|--------------|---------------|
| SMS     | ₦3.00           | ₦300         | ₦3,000       |
| WhatsApp| ₦6.00           | ₦600         | ₦6,000       |
| Email   | Free*           | Free*        | Free*        |

*Email costs covered by AWS SES/Gmail limits

## Notes

1. **Phone Number Format**: Must include country code without `+`
   - ✅ Correct: `2348012345678`
   - ❌ Wrong: `+2348012345678` or `08012345678`

2. **Character Limits**:
   - SMS Sender ID: 11 characters max
   - WhatsApp Device ID: 9 characters max
   - SMS message: 160 characters = 1 unit

3. **Production vs Test**:
   - Use **test API key** with Device ID "TID" for testing
   - Switch to **live API key** with approved IDs for production

4. **Wallet Balance**:
   - Monitor in Termii dashboard
   - Set up auto-recharge alerts
   - Recommended: Keep ₦5,000+ balance
